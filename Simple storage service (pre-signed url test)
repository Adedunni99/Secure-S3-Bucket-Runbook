Secure S3 Bucket Runbook 


Pre-requisites;


    -- Access to the console

   --- Network access to the internet


1 Create an Encrypted S3 Bucket


    A. Login to S3 in the AWS Console

    B. Click on “create bucket”

    C. Named my bucket—-”my-s3-littlebucket’’

    D. Scrolled down to Default encryption:

             Select Enable 

             Chose SSE-S3 

     E.    Enabled versioning

     F.    Leave other settings as default.

     G.   Click Create bucket.




My “my-s3-littlebucket” bucket is encrypted


2.  Enable Versioning


    A.   Go to the new “my-s3-littlebucket”

    B.   Click the Properties tab.

    C.   Scroll to Bucket Versioning.

    D.   Click Edit, choose Enable, then Save changes.

    E.   Versioning is now on.


3.  Block All Public Access


    A.   Go to the Permissions tab of the bucket

    B.   Click Edit next to Block public access.

    C.   Check all four options :

              Block public ACLs

              Block public bucket policies

              Ignore public ACLs

              Restrict public bucket policies

    D.   Click on Save changes.

    E.   Public access is blocked.


4.  Add a Bucket Policy for IP Restriction


     A.   Go to the Permissions tab.

     B.   Scroll down to Bucket policy.

     C.   Click Edit.

Paste this policy, replacing:

my-secure-bucket with my bucket name; my-s3-littkebucket
Replaced YOUR_IP_ADDRESS with my actual IP; 54.87.233.162



{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "AllowGetFromMyIP",
      "Effect": "Allow",
      "Principal": "*",
      "Action": "s3:GetObject",
      "Resource": "arn:aws:s3:::my-s3-littkebucket/*",
      "Condition": {
        "IpAddress": {
          "aws:SourceIp": "54.87.233.162/32"
        }
      }
    }
  ]
}



        Click Save changes.
        Successfully edited the policy


5.  Upload Sample Files via Console


     A.   Go to the bucket– Objects tab.

     B.   Click Upload.

     C.   Upload two files

           report.txt 

           data.csv 

     D.   Click Upload.

     E.   Files are now in S3.


6. Generate a Pre-signed URL


      A.  In the bucket, find report.txt under Objects.

      B.  Click the checkbox next to it.

      C.  Select Actions; share with a pre-signed URL.

      D.  Set expiration time (60  minutes).

      E.  Copy the generated URL.

https://my-s33-littkebucket.s3.us-east-1.amazonaws.com/report.txt?response-content-disposition=inline&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDoaCXVzLWVhc3QtMSJIMEYCIQD9Y%2FLnUKptIEWlYfQe7tmjYRPwRFvP9bMd1UnrFazFYwIhAPXc0PGo38BH%2BvUXhLyQdMZ%2F7JSEMQ7HQew5jBM1TOJKKtcDCHMQARoMNDg5NjczMDIxMDkyIgwUHKplsefkhQPHh28qtANZx%2FuxU0arelWyX%2Fwoy2zHs9ww12AMtrGW1j4ZspQhtORPUI%2B5JuBjKTQbQY3fvUlxqb4FlKolC5TxVYfTP4IraT%2FRnhHpjkmZPaySAjICZzuPG2WsX6lPtHK5va69ntGj0JY5WW%2BScL0tZRreaY3hYlNj7nvWFqXG0l6AiKOndB7BaQCtxOBuAcFLMJX0f4bkBhve7MO3NhnAkxJP2zZjBCirCX89fESHvDx36m1QdhVuEm9Qz7Qbd7QKjLGydflSUSk3rf76I0pfJydUMVmY2iLSwAvq%2BawWBDVxrgbWxaPI9JzCpdBQyeh7cLBuD%2BN3UQDZbC1GycXL6TiY%2FGWNUsAXoG5PWBFDAtsDtiM9ZYLe5pzSq5joyDPTmyX5sQYx%2FNPAdnBGZF91MRgtvIDbHFoqecUxKGfor1kbyLK%2FM02doEUQgZ%2Bv4Ej5QIA7L6SFIVbdpfnEkX41IlO93vJaIolNKsfO%2FeVSBtRIdct7i3ujyDix6voRvbeHPH%2FF52T7pQOzavZWKlg4z4snuRkby0wiLJrrAtMGXKP46djJiMAjGK%2B6iNY3XR7i%2BWeegU4FUOOHMKu5zMQGOrYC2qIv4wOj%2B6it0D5JLoIA5w3i%2BPY6ob1Dzah4%2Bi9deVvSpuWsRhl4xJPKtApAhnE36IheUF6nQ4kfQ%2FELUvsTUOBkXa1bR4iKQj5h7d5oKzsYqn%2FOeC5KwAOevjfMr%2B5%2BMpOkDL7gTikl09Losqr8U6Niz59qFYGXzfNQwn6dNgBKnp7eutc3sO0kDmBpNrugPiA3HT4%2FpZaPIIvgdEUU3uROehe4S8lYgKWkAhzjMHsuBhPPSY6H0%2Bf6EWRx043U189PuDHB6sNLgds9yg%2BA%2B6nvVHP9BZDKYgCo%2B7x1DPZnBWZZnJxupY4%2BQd4u50u8M%2BzIG6xlZPYUJ0cEhoEy2zFaqpaiu7M6Q9L1Y3Q1T59w0Otqj6Y2frQrd%2FKggh346lBvIul%2F2t%2FwY%2FRB8E70UWxhlzTv9w%3D%3D&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIAXEAWJK2SCYVWWX57%2F20250806%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20250806T092441Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=5b2f786940355c019aabc2822327453245e9338ba176152783235f50f0ac73be

      F.  Test it by opening the URL in your browser.


 7.  Clean Up


     A.   Go to the bucket 

     B.   Empty to delete bucket

     C.   Back to the S3 dashboard, select the bucket.

     D.   Then delete
